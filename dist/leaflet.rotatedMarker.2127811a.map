{"version":3,"sources":["js/leaflet.rotatedMarker.js"],"names":["proto_initIcon","L","Marker","prototype","_initIcon","proto_setPos","_setPos","oldIE","DomUtil","TRANSFORM","addInitHook","iconOptions","options","icon","iconAnchor","rotationOrigin","rotationAngle","include","call","pos","_icon","style","setRotationAngle","angle","update","setRotationOrigin","origin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,CAAC,YAAW;AACR;AACA,QAAIA,iBAAiBC,EAAEC,MAAF,CAASC,SAAT,CAAmBC,SAAxC;AACA,QAAIC,eAAeJ,EAAEC,MAAF,CAASC,SAAT,CAAmBG,OAAtC;;AAEA,QAAIC,QAASN,EAAEO,OAAF,CAAUC,SAAV,KAAwB,aAArC;;AAEAR,MAAEC,MAAF,CAASQ,WAAT,CAAqB,YAAY;AAC7B,YAAIC,cAAc,KAAKC,OAAL,CAAaC,IAAb,IAAqB,KAAKD,OAAL,CAAaC,IAAb,CAAkBD,OAAzD;AACA,YAAIE,aAAaH,eAAe,KAAKC,OAAL,CAAaC,IAAb,CAAkBD,OAAlB,CAA0BE,UAA1D;AACA,YAAIA,UAAJ,EAAgB;AACZA,yBAAcA,WAAW,CAAX,IAAgB,KAAhB,GAAwBA,WAAW,CAAX,CAAxB,GAAwC,IAAtD;AACH;AACD,aAAKF,OAAL,CAAaG,cAAb,GAA8B,KAAKH,OAAL,CAAaG,cAAb,IAA+BD,UAA/B,IAA6C,eAA3E;AACA,aAAKF,OAAL,CAAaI,aAAb,GAA6B,KAAKJ,OAAL,CAAaI,aAAb,IAA8B,CAA3D;AACH,KARD;;AAUAf,MAAEC,MAAF,CAASe,OAAT,CAAiB;AACbb,mBAAW,qBAAW;AAClBJ,2BAAekB,IAAf,CAAoB,IAApB;AACH,SAHY;;AAKbZ,iBAAS,iBAAUa,GAAV,EAAe;AACpBd,yBAAaa,IAAb,CAAkB,IAAlB,EAAwBC,GAAxB;;AAEA,gBAAG,KAAKP,OAAL,CAAaI,aAAhB,EAA+B;AAC3B,qBAAKI,KAAL,CAAWC,KAAX,CAAiBpB,EAAEO,OAAF,CAAUC,SAAV,GAAoB,QAArC,IAAiD,KAAKG,OAAL,CAAaG,cAA9D;;AAEA,oBAAGR,KAAH,EAAU;AACN;AACA,yBAAKa,KAAL,CAAWC,KAAX,CAAiBpB,EAAEO,OAAF,CAAUC,SAA3B,IAAwC,YAAY,KAAKG,OAAL,CAAaI,aAAzB,GAAyC,MAAjF;AACH,iBAHD,MAGO;AACH;AACA,yBAAKI,KAAL,CAAWC,KAAX,CAAiBpB,EAAEO,OAAF,CAAUC,SAA3B,KAAyC,cAAc,KAAKG,OAAL,CAAaI,aAA3B,GAA2C,MAApF;AACH;AACJ;AACJ,SAnBY;;AAqBbM,0BAAkB,0BAASC,KAAT,EAAgB;AAC9B,iBAAKX,OAAL,CAAaI,aAAb,GAA6BO,KAA7B;AACA,iBAAKC,MAAL;AACA,mBAAO,IAAP;AACH,SAzBY;;AA2BbC,2BAAmB,2BAASC,MAAT,EAAiB;AAChC,iBAAKd,OAAL,CAAaG,cAAb,GAA8BW,MAA9B;AACA,iBAAKF,MAAL;AACA,mBAAO,IAAP;AACH;AA/BY,KAAjB;AAiCH,CAlDD","file":"leaflet.rotatedMarker.2127811a.map","sourceRoot":"..","sourcesContent":["(function() {\n    // save these original methods before they are overwritten\n    var proto_initIcon = L.Marker.prototype._initIcon;\n    var proto_setPos = L.Marker.prototype._setPos;\n\n    var oldIE = (L.DomUtil.TRANSFORM === 'msTransform');\n\n    L.Marker.addInitHook(function () {\n        var iconOptions = this.options.icon && this.options.icon.options;\n        var iconAnchor = iconOptions && this.options.icon.options.iconAnchor;\n        if (iconAnchor) {\n            iconAnchor = (iconAnchor[0] + 'px ' + iconAnchor[1] + 'px');\n        }\n        this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || 'center bottom' ;\n        this.options.rotationAngle = this.options.rotationAngle || 0;\n    });\n\n    L.Marker.include({\n        _initIcon: function() {\n            proto_initIcon.call(this);\n        },\n\n        _setPos: function (pos) {\n            proto_setPos.call(this, pos);\n\n            if(this.options.rotationAngle) {\n                this._icon.style[L.DomUtil.TRANSFORM+'Origin'] = this.options.rotationOrigin;\n\n                if(oldIE) {\n                    // for IE 9, use the 2D rotation\n                    this._icon.style[L.DomUtil.TRANSFORM] = 'rotate(' + this.options.rotationAngle + 'deg)';\n                } else {\n                    // for modern browsers, prefer the 3D accelerated version\n                    this._icon.style[L.DomUtil.TRANSFORM] += ' rotateZ(' + this.options.rotationAngle + 'deg)';\n                }\n            }\n        },\n\n        setRotationAngle: function(angle) {\n            this.options.rotationAngle = angle;\n            this.update();\n            return this;\n        },\n\n        setRotationOrigin: function(origin) {\n            this.options.rotationOrigin = origin;\n            this.update();\n            return this;\n        }\n    });\n})();\n"]}