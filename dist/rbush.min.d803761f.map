{"version":3,"sources":["js/rbush.min.js"],"names":["t","exports","module","define","amd","i","window","global","self","rbush","n","e","r","h","o","s","require","a","l","Error","code","f","call","length","_maxEntries","Math","max","_minEntries","ceil","_initFormat","clear","indexOf","children","p","minX","minY","maxX","maxY","leaf","min","u","c","m","d","x","height","M","pop","g","push","prototype","all","_all","data","search","toBBox","collides","load","insert","_build","slice","_splitRoot","_insert","remove","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","log","pow","sqrt","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","_allDistMargin","sort","Function","join","quickselect","exp","floor"],"mappings":"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","file":"rbush.min.d803761f.map","sourceRoot":"..","sourcesContent":["!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var i;i=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,i.rbush=t()}}(function(){return function t(i,n,e){function r(h,o){if(!n[h]){if(!i[h]){var s=\"function\"==typeof require&&require;if(!o&&s)return s(h,!0);if(a)return a(h,!0);var l=new Error(\"Cannot find module '\"+h+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var f=n[h]={exports:{}};i[h][0].call(f.exports,function(t){var n=i[h][1][t];return r(n?n:t)},f,f.exports,t,i,n,e)}return n[h].exports}for(var a=\"function\"==typeof require&&require,h=0;h<e.length;h++)r(e[h]);return r}({1:[function(t,i,n){\"use strict\";function e(t,i){return this instanceof e?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&this._initFormat(i),void this.clear()):new e(t,i)}function r(t,i,n){if(!n)return i.indexOf(t);for(var e=0;e<i.length;e++)if(n(t,i[e]))return e;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,e,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-(1/0),r.maxY=-(1/0);for(var a,h=i;h<n;h++)a=t.children[h],o(r,t.leaf?e(a):a);return r}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function c(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function m(t,i){var n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),r=Math.min(t.maxX,i.maxX),a=Math.min(t.maxY,i.maxY);return Math.max(0,r-n)*Math.max(0,a-e)}function d(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function x(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-(1/0),maxY:-(1/0)}}function M(t,i,n,e,r){for(var a,h=[i,n];h.length;)n=h.pop(),i=h.pop(),n-i<=e||(a=i+Math.ceil((n-i)/e/2)*e,g(t,a,i,n,r),h.push(i,a,a,n))}i.exports=e;var g=t(\"quickselect\");e.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],e=this.toBBox;if(!x(t,i))return n;for(var r,a,h,o,s=[];i;){for(r=0,a=i.children.length;r<a;r++)h=i.children[r],o=i.leaf?e(h):h,x(t,o)&&(i.leaf?n.push(h):d(t,o)?this._all(h,n):s.push(h));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!x(t,i))return!1;for(var e,r,a,h,o=[];i;){for(e=0,r=i.children.length;e<r;e++)if(a=i.children[e],h=i.leaf?n(a):a,x(t,h)){if(i.leaf||d(t,h))return!0;o.push(a)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,i){if(!t)return this;for(var n,e,a,h,o=this.data,s=this.toBBox(t),l=[],f=[];o||l.length;){if(o||(o=l.pop(),e=l[l.length-1],n=f.pop(),h=!0),o.leaf&&(a=r(t,o.children,i),a!==-1))return o.children.splice(a,1),l.push(o),this._condense(l),this;h||o.leaf||!d(o,s)?e?(n++,o=e.children[n],h=!1):o=null:(l.push(o),f.push(n),n=0,e=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:s,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,e){var r,h=n-i+1,o=this._maxEntries;if(h<=o)return r=p(t.slice(i,n+1)),a(r,this.toBBox),r;e||(e=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,e-1))),r=p([]),r.leaf=!1,r.height=e;var s,l,f,u,c=Math.ceil(h/o),m=c*Math.ceil(Math.sqrt(o));for(M(t,i,n,m,this.compareMinX),s=i;s<=n;s+=m)for(f=Math.min(s+m-1,n),M(t,s,f,c,this.compareMinY),l=s;l<=f;l+=c)u=Math.min(l+c-1,f),r.children.push(this._build(t,l,u,e-1));return a(r,this.toBBox),r},_chooseSubtree:function(t,i,n,e){for(var r,a,h,o,s,l,u,m;;){if(e.push(i),i.leaf||e.length-1===n)break;for(u=m=1/0,r=0,a=i.children.length;r<a;r++)h=i.children[r],s=f(h),l=c(t,h)-s,l<m?(m=l,u=s<u?s:u,o=h):l===m&&s<u&&(u=s,o=h);i=o||i.children[0]}return i},_insert:function(t,i,n){var e=this.toBBox,r=n?t:e(t),a=[],h=this._chooseSubtree(r,this.data,i,a);for(h.children.push(t),o(h,r);i>=0&&a[i].children.length>this._maxEntries;)this._split(a,i),i--;this._adjustParentBBoxes(r,a,i)},_split:function(t,i){var n=t[i],e=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,e);var h=this._chooseSplitIndex(n,r,e),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var e,r,a,o,s,l,u,c;for(l=u=1/0,e=i;e<=n-i;e++)r=h(t,0,e,this.toBBox),a=h(t,e,n,this.toBBox),o=m(r,a),s=f(r)+f(a),o<l?(l=o,c=e,u=s<u?s:u):o===l&&s<u&&(u=s,c=e);return c},_chooseSplitAxis:function(t,i,n){var e=t.leaf?this.compareMinX:s,r=t.leaf?this.compareMinY:l,a=this._allDistMargin(t,i,n,e),h=this._allDistMargin(t,i,n,r);a<h&&t.children.sort(e)},_allDistMargin:function(t,i,n,e){t.children.sort(e);var r,a,s=this.toBBox,l=h(t,0,i,s),f=h(t,n-i,n,s),c=u(l)+u(f);for(r=i;r<n-i;r++)a=t.children[r],o(l,t.leaf?s(a):a),c+=u(l);for(r=n-i-1;r>=i;r--)a=t.children[r],o(f,t.leaf?s(a):a),c+=u(f);return c},_adjustParentBBoxes:function(t,i,n){for(var e=n;e>=0;e--)o(i[e],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children,i.splice(i.indexOf(t[n]),1)):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var i=[\"return a\",\" - b\",\";\"];this.compareMinX=new Function(\"a\",\"b\",i.join(t[0])),this.compareMinY=new Function(\"a\",\"b\",i.join(t[1])),this.toBBox=new Function(\"a\",\"return {minX: a\"+t[0]+\", minY: a\"+t[1]+\", maxX: a\"+t[2]+\", maxY: a\"+t[3]+\"};\")}}},{quickselect:2}],2:[function(t,i,n){\"use strict\";function e(t,i,n,a,h){for(;a>n;){if(a-n>600){var o=a-n+1,s=i-n+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),c=Math.max(n,Math.floor(i-s*f/o+u)),m=Math.min(a,Math.floor(i+(o-s)*f/o+u));e(t,i,c,m,h)}var d=t[i],x=n,p=a;for(r(t,n,i),h(t[a],d)>0&&r(t,n,a);x<p;){for(r(t,x,p),x++,p--;h(t[x],d)<0;)x++;for(;h(t[p],d)>0;)p--}0===h(t[n],d)?r(t,n,p):(p++,r(t,p,a)),p<=i&&(n=p+1),i<=p&&(a=p-1)}}function r(t,i,n){var e=t[i];t[i]=t[n],t[n]=e}i.exports=e},{}]},{},[1])(1)});\n"]}